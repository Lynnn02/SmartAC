<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Praktikal 3 - SmartAC</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/theme-toggle.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
</head>
<body style="background-color: #121212; color: #ffffff;" class="animate__animated animate__fadeIn">
    <%- include('../partials/teacher-header', {activePage: 'modules'}) %>

    <div class="dashboard-header position-relative overflow-hidden animate__animated animate__fadeIn" style="background: linear-gradient(135deg, #121212, #1a1a1a);">
        <div class="container position-relative" style="z-index: 2;">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <div class="d-flex align-items-center mb-3 animate__animated animate__fadeInUp">
                        <div class="badge-floating bg-primary text-white fs-5 me-3 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; border-radius: 12px; box-shadow: 0 4px 10px rgba(212,175,55,0.3);">03</div>
                        <div>
                            <h1 class="mb-0 display-5 fw-bold" style="color: var(--bs-white);">Praktikal 3</h1>
                            <div style="color: #d4af37;">Gas Charging Process</div>
                        </div>
                        <div class="ms-auto d-none d-md-block">
                            <span class="badge bg-danger text-white p-2">Advanced</span>
                        </div>
                    </div>
                    <p class="lead mb-4 animate__animated animate__fadeInUp animate__delay-1s">Proses Charging Gas Dalam System Selepas Baik-Pulih (Kaedah Manual)</p>
                    <div class="d-flex flex-wrap gap-3 animate__animated animate__fadeInUp animate__delay-2s">
                        <div class="alert alert-warning" role="alert" style="background-color: #2a2a2a; border-color: #d4af37; color: #ffffff;">
                            <i class="bi bi-info-circle-fill me-2"></i>
                            Praktikal 3 berlaku Selepas PRAKTIKAL 1 : PEMASANGAN HOSE MANIFOLD GAUGE & VACUUM HOSE & PRAKTIKAL 2 : PROSES VAKUM SISTEM PENYAMAN UDARA
                        </div>
                        <div class="card-neumorphic py-2 px-3 d-flex align-items-center">
                            <i class="bi bi-tools text-primary me-2"></i>
                            <span>12 Langkah</span>
                        </div>
                        <div class="card-neumorphic py-2 px-3 d-flex align-items-center">
                            <i class="bi bi-clock text-primary me-2"></i>
                            <span>Est. 40 minit</span>
                        </div>
                        <div class="card-neumorphic py-2 px-3 d-flex align-items-center">
                            <i class="bi bi-trophy text-warning me-2"></i>
                            <span>200 XP</span>
                        </div>
                    </div>
                    <div class="mt-4 d-flex gap-2 animate__animated animate__fadeInUp animate__delay-3s">
                        <a href="/teacher/practical/1" class="btn btn-outline-primary" style="border-color: #d4af37; color: #d4af37;">
                            <i class="bi bi-arrow-left me-2"></i> Praktikal 1
                        </a>
                        <a href="/teacher/practical/2" class="btn btn-outline-primary" style="border-color: #d4af37; color: #d4af37;">
                            <i class="bi bi-arrow-left me-2"></i> Praktikal 2
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 d-none d-lg-block">
                    <div class="position-relative animate__animated animate__fadeInRight animate__delay-2s">
                        <div class="position-absolute top-0 start-0 w-100 h-100 bg-primary rounded-circle" style="filter: blur(70px); opacity: 0.1; z-index: -1;"></div>
                        <div class="text-center position-relative">
                            <i class="bi bi-tools" style="font-size: 8rem; color: var(--primary-color); opacity: 0.2;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="position-absolute top-0 end-0 w-50 h-100 d-none d-lg-block" style="background: linear-gradient(135deg, transparent 0%, rgba(212,175,55,0.03) 100%);"></div>
    </div>

    <div class="container mb-5">
        <div class="row">
            <div class="col-lg-4 order-lg-2 mb-4">
                <div class="position-sticky" style="top: 2rem;">
                    <!-- 3D View Card Card -->
                    <div class="card shadow-sm animate__animated animate__fadeInRight animate__delay-1s" style="background-color: #1a1a1a; color: #ffffff;">
                        <div class="card-body">
                            <div class="d-flex align-items-center mb-3">
                                <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 40px; height: 40px;">
                                    <i class="bi bi-phone-fill text-white"></i>
                                </div>
                                <h5 class="mb-0">3D View Card</h5>
                            </div>
                            
                            <div class="text-center p-4">
                                <div class="display-4 mb-3">
                                    <i class="bi bi-phone text-primary"></i>
                                </div>
                                <h5>3D Models Coming Soon</h5>
                                <p class="text-muted">Our team is working on creating interactive 3D models for this practical.</p>
                                <div class="alert alert-primary mt-3">
                                    <i class="bi bi-info-circle me-2"></i>
                                    Check back later for interactive 3D Models!
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-8 order-lg-1">
                <!-- Navigation Buttons -->
                <div class="d-flex justify-content-center mb-4 animate__animated animate__fadeInUp">
                    <div class="btn-group">
                        <button class="btn btn-primary active" id="btnProsedur" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border-color: #d4af37;">
                            <i class="bi bi-list-check me-2"></i> Prosedur
                        </button>
                        <button class="btn btn-primary" id="btnPeralatan" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-color: #d4af37;">
                            <i class="bi bi-tools me-2"></i> Peralatan
                        </button>
                    </div>
                </div>

                <div id="peralatanSection" class="animate__animated animate__fadeIn" style="display: none;">
                    <div class="d-flex align-items-center mb-4">
                        <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 45px; height: 45px;">
                            <i class="bi bi-tools text-white fs-5"></i>
                        </div>
                        <h3 class="mb-0">Peralatan</h3>
                    </div>
                    
                    <div class="card gradient-border mb-4 shadow-sm">
                        <div class="card-body">
                            <div class="row g-4">
                                <div class="col-md-6">
                                    <div class="card-neumorphic p-3" style="background-color: #222222; color: #ffffff;">
                                        <h5 class="mb-3"><i class="bi bi-1-circle-fill text-primary me-2"></i>Manifold Gauge 4 ways Valve</h5>
                                        <p class="mb-0">Alat untuk mengukur tekanan refrigerant dalam sistem pendingin dengan 4 valve.</p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card-neumorphic p-3" style="background-color: #222222; color: #ffffff;">
                                        <h5 class="mb-3"><i class="bi bi-2-circle-fill text-primary me-2"></i>Adaptor Low Pressure & Adaptor High Pressure</h5>
                                        <p class="mb-0">Adaptor untuk menyambungkan hose ke port tekanan rendah dan tinggi pada sistem AC.</p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card-neumorphic p-3" style="background-color: #222222; color: #ffffff;">
                                        <h5 class="mb-3"><i class="bi bi-3-circle-fill text-primary me-2"></i>Vacuum Pump</h5>
                                        <p class="mb-0">Alat untuk menyedut keluar udara dan kelembapan dari sistem pendingin.</p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card-neumorphic p-3" style="background-color: #222222; color: #ffffff;">
                                        <h5 class="mb-3"><i class="bi bi-4-circle-fill text-primary me-2"></i>Micron Gauge</h5>
                                        <p class="mb-0">Alat untuk mengukur tahap vakum dalam sistem AC dengan unit micron.</p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card-neumorphic p-3" style="background-color: #222222; color: #ffffff;">
                                        <h5 class="mb-3"><i class="bi bi-5-circle-fill text-primary me-2"></i>Sistem AC Kenderaan</h5>
                                        <p class="mb-0">Sistem penyaman udara kenderaan yang akan digunakan untuk praktikal.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="prosedurSection" class="animate__animated animate__fadeIn">
                    <div class="d-flex align-items-center mb-4">
                        <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 45px; height: 45px;">
                            <i class="bi bi-list-check text-white fs-5"></i>
                        </div>
                        <h3 class="mb-0">Prosedur</h3>
                        <div class="ms-auto">
                            <button class="btn btn-sm btn-outline-primary me-2" id="expandAllSteps">
                                <i class="bi bi-arrows-expand"></i> Expand All
                            </button>
                            <button class="btn btn-sm btn-outline-primary" id="collapseAllSteps">
                                <i class="bi bi-arrows-collapse"></i> Collapse All
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="card gradient-border mb-4 animate__animated animate__fadeInUp animate__delay-1s shadow-sm" id="prosedurCard">
                    <div class="card-body">
                        <div class="alert alert-warning mb-4">
                            <div class="d-flex">
                                <div class="me-3">
                                    <i class="bi bi-info-circle-fill fs-4"></i>
                                </div>
                                <div>
                                    <p class="mb-0 fw-bold">Prosedur 3 berlaku Selepas PRAKTIKAL 1 : PEMASANGAN HOSE MANIFOLD GAUGE & VACUUM HOSE & PRAKTIKAL 2: PROSES VACUUM SYSTEM SELEPAS BAIK-PULIH (KAEDAH MANUAL)
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="practical-steps-container">
                            <!-- Step 1 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp" data-step="1">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">1</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 1</h5>
                                    <div class="ms-auto">
                                        <a href="/teacher/3d-view?practical=3&step=1" class="btn btn-sm btn-primary px-3 py-2" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border: none;">Lihat dalam 3D</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <p class="mb-0">Tutup semua Injap Tangan di Manifold Gauge (Biru, Merah, Kuning & Hitam).</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 2 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-1s mt-4" data-step="2">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">2</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 2</h5>
                                    <div class="ms-auto">
                                        <a href="/teacher/3d-view?practical=3&step=2" class="btn btn-sm btn-primary px-3 py-2" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border: none;">Lihat dalam 3D</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <p class="mb-0">Letakkan Refrigerant Tank R134a di atas Timbang dan catat bacaan berat.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 3 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-2s mt-4" data-step="3">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">3</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 3</h5>
                                    <div class="ms-auto">
                                        <a href="/teacher/3d-view?practical=3&step=3" class="btn btn-sm btn-primary px-3 py-2" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border: none;">Lihat dalam 3D</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <p class="mb-0">Buka Injap Tangan Tank Refrigerant R134a.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 4 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-2s mt-4" data-step="4">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">4</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 4</h5>
                                    <div class="ms-auto">
                                        <a href="/teacher/3d-view?practical=3&step=4" class="btn btn-sm btn-primary px-3 py-2" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border: none;">Lihat dalam 3D</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <p class="mb-0">Buka Injap Tangan Biru (Low Pressure) di Manifold Gauge.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 5 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-2s mt-4" data-step="5">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">5</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 5</h5>
                                    <div class="ms-auto">
                                        <a href="/teacher/3d-view?practical=3&step=5" class="btn btn-sm btn-primary px-3 py-2" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border: none;">Lihat dalam 3D</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <p class="mb-0">Buka Injap Tangan Adaptor Biru (Low Pressure) – refrigerant R134a (vapor) masuk ke dalam sistem sehingga tekanan tank.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 6 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-2s mt-4" data-step="6">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">6</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 6</h5>
                                    <div class="ms-auto">
                                        <a href="/teacher/3d-view?practical=3&step=6" class="btn btn-sm btn-primary px-3 py-2" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border: none;">Lihat dalam 3D</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <p class="mb-0">Tutup Injap Tangan Biru (Low Pressure) di Manifold Gauge.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 7 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-2s mt-4" data-step="7">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">7</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 7</h5>
                                    <div class="ms-auto">
                                        <a href="/teacher/3d-view?practical=3&step=7" class="btn btn-sm btn-primary px-3 py-2" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border: none;">Lihat dalam 3D</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <p class="mb-0">Hidupkan / Start sistem AC.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 8A - Kaedah Berat -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-2s mt-4" data-step="8A">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">8A</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Kaedah Berat (Gram)</h5>
                                    <div class="ms-auto">
                                        <a href="/teacher/3d-view?practical=3&step=8A" class="btn btn-sm btn-primary px-3 py-2" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border: none;">Lihat dalam 3D</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <p class="mb-0">8A1. Buka Injap Tangan Biru – masukkan refrigerant berpandukan timbangan sehingga ±300 gram.</p>
                                                <p class="mb-0 mt-2">8A2. Setelah cukup berat, tutup Injap Tangan Biru.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 8B - Kaedah Tekanan -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-2s mt-4" data-step="8B">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">8B</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Kaedah Tekanan</h5>
                                    <div class="ms-auto">
                                        <a href="/teacher/3d-view?practical=3&step=8B" class="btn btn-sm btn-primary px-3 py-2" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border: none;">Lihat dalam 3D</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <p class="mb-0">8B1. Buka Injap Tangan Biru (10s), tutup (10–15s), ulang proses.</p>
                                                <p class="mb-0 mt-2">8B2. Hentikan apabila bacaan Low Pressure 30–40 psi & High Pressure 150–220 psi.</p>
                                                <p class="mb-0 mt-2">8B3. Jalankan sistem 10 minit untuk pastikan tekanan stabil.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 8C - Kaedah Kaca Cerap -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-2s mt-4" data-step="8C">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">8C</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Kaedah Kaca Cerap (Sight Glass)</h5>
                                    <div class="ms-auto">
                                        <a href="/teacher/3d-view?practical=3&step=8C" class="btn btn-sm btn-primary px-3 py-2" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border: none;">Lihat dalam 3D</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <p class="mb-0">8C1. Buka Injap Tangan Biru (10s), tutup (10–15s), ulang proses sehingga kaca cerap jernih (tiada buih).</p>
                                                <p class="mb-0 mt-2">8C2. Setelah jernih, tutup Injap Tangan Biru.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 9 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-2s mt-4" data-step="9">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">9</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 9</h5>
                                    <div class="ms-auto">
                                        <a href="/teacher/3d-view?practical=3&step=9" class="btn btn-sm btn-primary px-3 py-2" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border: none;">Lihat dalam 3D</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <p class="mb-0">Running sistem selama 5 minit dan catat bacaan.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 10 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-2s mt-4" data-step="10">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">10</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 10</h5>
                                    <div class="ms-auto">
                                        <a href="/teacher/3d-view?practical=3&step=10" class="btn btn-sm btn-primary px-3 py-2" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; border: none;">Lihat dalam 3D</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <p class="mb-0">Matikan (OFF) sistem.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/theme-toggle.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Navigation between Prosedur and Peralatan
            document.getElementById('btnProsedur').addEventListener('click', function() {
                document.getElementById('prosedurSection').style.display = 'block';
                document.getElementById('peralatanSection').style.display = 'none';
                document.getElementById('prosedurCard').style.display = 'block';
                
                // Update button styles
                this.style.background = 'linear-gradient(135deg, #d4af37, #e6c158)';
                this.style.color = '#121212';
                document.getElementById('btnPeralatan').style.background = 'linear-gradient(135deg, #1a1a1a, #222222)';
                document.getElementById('btnPeralatan').style.color = '';
                
                // Add/remove active class
                this.classList.add('active');
                document.getElementById('btnPeralatan').classList.remove('active');
            });
            
            document.getElementById('btnPeralatan').addEventListener('click', function() {
                document.getElementById('peralatanSection').style.display = 'block';
                document.getElementById('prosedurSection').style.display = 'none';
                document.getElementById('prosedurCard').style.display = 'none';
                
                // Update button styles
                this.style.background = 'linear-gradient(135deg, #d4af37, #e6c158)';
                this.style.color = '#121212';
                document.getElementById('btnProsedur').style.background = 'linear-gradient(135deg, #1a1a1a, #222222)';
                document.getElementById('btnProsedur').style.color = '';
                
                // Add/remove active class
                this.classList.add('active');
                document.getElementById('btnProsedur').classList.remove('active');
            });
            
            // Expand/Collapse functionality
            document.getElementById('expandAllSteps').addEventListener('click', function() {
                document.querySelectorAll('.step-content').forEach(content => {
                    content.style.display = 'block';
                });
            });
            
            document.getElementById('collapseAllSteps').addEventListener('click', function() {
                document.querySelectorAll('.step-content').forEach(content => {
                    content.style.display = 'none';
                });
            });
            
            // Step headers toggle content
            document.querySelectorAll('.step-header').forEach(header => {
                header.addEventListener('click', function() {
                    const content = this.nextElementSibling;
                    content.style.display = content.style.display === 'none' ? 'block' : 'none';
                });
            });
            
            // Placeholder function to update progress
            function updateProgress() {
                const totalSteps = document.querySelectorAll('.practical-step').length;
                const completedSteps = document.querySelectorAll('.step-status:contains("Selesai")').length;
                const progressPercentage = Math.round((completedSteps / totalSteps) * 100);
                
                document.getElementById('progressBar').style.width = progressPercentage + '%';
                document.getElementById('progressBar').setAttribute('aria-valuenow', progressPercentage);
                document.getElementById('progressPercentage').textContent = progressPercentage + '%';
                document.getElementById('stepsCompleted').textContent = completedSteps + '/' + totalSteps;
            }
            
            // Polyfill for :contains selector
            jQuery.expr[':'].contains = function(a, i, m) {
                return jQuery(a).text().toUpperCase().indexOf(m[3].toUpperCase()) >= 0;
            };
        });
    </script>
    <%- include('../partials/teacher-footer') %>
</body>
</html>
