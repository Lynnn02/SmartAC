<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aliran Udara - SmartAC</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/theme-toggle.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
</head>
<body style="background-color: #121212; color: #ffffff;" class="animate__animated animate__fadeIn">
    <%- include('../partials/student-header', {activePage: 'modules'}) %>

    <div class="dashboard-header position-relative overflow-hidden animate__animated animate__fadeIn" style="background: linear-gradient(135deg, #121212, #1a1a1a);">
        <div class="container position-relative" style="z-index: 2;">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <div class="d-flex align-items-center mb-3 animate__animated animate__fadeInUp">
                        <div class="badge-floating bg-primary text-white fs-5 me-3 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; border-radius: 12px; box-shadow: 0 4px 10px rgba(212,175,55,0.3);">
                            <i class="bi bi-wind"></i>
                        </div>
                        <div>
                            <h1 class="mb-0 display-5 fw-bold" style="color: var(--bs-white);">Aliran Udara</h1>
                            <div style="color: #d4af37;">Sistem Aliran Udara Penyaman Udara</div>
                        </div>
                    </div>
                    <p class="lead mb-4 animate__animated animate__fadeInUp animate__delay-1s">Modul ini meliputi asas aliran udara dalam sistem penyaman udara.</p>
                    <div class="d-flex flex-wrap gap-3 animate__animated animate__fadeInUp animate__delay-2s">
                        <div class="card-neumorphic py-2 px-3 d-flex align-items-center">
                            <i class="bi bi-tools text-primary me-2"></i>
                            <span>6 Langkah</span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 d-none d-lg-block">
                    <div class="position-relative animate__animated animate__fadeInRight animate__delay-2s">
                        <div class="position-absolute top-0 start-0 w-100 h-100 bg-primary rounded-circle" style="filter: blur(70px); opacity: 0.1; z-index: -1;"></div>
                        <div class="text-center position-relative">
                            <i class="bi bi-wind" style="font-size: 8rem; color: var(--primary-color); opacity: 0.2;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="position-absolute top-0 end-0 w-50 h-100 d-none d-lg-block" style="background: linear-gradient(135deg, transparent 0%, rgba(212,175,55,0.03) 100%);"></div>
    </div>

    <div class="container mb-5">
        <div class="row">
            <div class="col-lg-4 order-lg-2 mb-4">
                <div class="position-sticky" style="top: 2rem;">
                    <!-- 3D View Card -->
                    <div class="card shadow-sm animate__animated animate__fadeInRight animate__delay-1s" style="background-color: #1a1a1a; color: #ffffff;">
                        <div class="card-body">
                            <div class="d-flex align-items-center mb-3">
                                <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 40px; height: 40px;">
                                    <i class="bi bi-phone-fill text-white"></i>
                                </div>
                                <h5 class="mb-0">Lihat Model</h5>
                            </div>
                            
                            <div class="text-center p-4">
                                <div class="display-4 mb-3">
                                    <i class="bi bi-phone text-primary"></i>
                                </div>
                                <div class="d-grid gap-2">
                                    <a href="/student/3d-view?module=airflow&step=1" class="btn btn-primary">
                                        <i class="bi bi-box me-2"></i> Lihat dalam 3D
                                    </a>
                                    <a href="/student/0" class="btn btn-outline-primary">
                                        <i class="bi bi-phone me-2"></i> Lihat dalam AR
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-8 order-lg-1">
                <div id="prosedurSection" class="animate__animated animate__fadeIn">
                    <div class="d-flex align-items-center mb-4">
                        <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 45px; height: 45px;">
                            <i class="bi bi-list-check text-white fs-5"></i>
                        </div>
                        <h3 class="mb-0">Prosedur</h3>
                        <div class="ms-auto">
                            <button class="btn btn-sm btn-outline-primary me-2" id="expandAllSteps">
                                <i class="bi bi-arrows-expand"></i> Expand All
                            </button>
                            <button class="btn btn-sm btn-outline-primary" id="collapseAllSteps">
                                <i class="bi bi-arrows-collapse"></i> Collapse All
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="card gradient-border mb-4 animate__animated animate__fadeInUp animate__delay-1s shadow-sm" id="prosedurCard">
                    <div class="card-body">
                        <div class="practical-steps-container">
                            <!-- Step 1 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp" data-step="1">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">1</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 1 –TXV</h5>
                                    <div class="ms-auto">
                                        <a href="/student/3d-view?module=airflow&step=1" class="btn btn-sm btn-primary px-3 py-2 me-2">Lihat dalam 3D</a>
                                        <a href="/student/0" class="btn btn-sm btn-outline-primary px-3 py-2">Lihat dalam AR</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <ul class="mb-0">
                                                    <li>Mengawal kemasukan bahan pendingin dan menurunkan tekanan dan suhu.</li>
                                                    <li>Menghantar bahan pendingin dari bentuk cecair bertekanan rendah ke gegelung penyejat.</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 2 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-1s mt-4" data-step="2">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">2</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 2 – Gegelung Penyejuk (Penyejat)</h5>
                                    <div class="ms-auto">
                                        <a href="/student/3d-view?module=airflow&step=2" class="btn btn-sm btn-primary px-3 py-2 me-2">Lihat dalam 3D</a>
                                        <a href="/student/0" class="btn btn-sm btn-outline-primary px-3 py-2">Lihat dalam AR</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <ul class="mb-0">
                                                    <li>Memerangkap dan menyerap haba daripada ruang yang disejuk.</li>
                                                    <li>Menukar bentuk bahan pendingin daripada bentuk cecair kepada bentuk wap bertekanan rendah.</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 3 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-1s mt-4" data-step="3">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">3</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 3 – Pemampat</h5>
                                    <div class="ms-auto">
                                        <a href="/student/3d-view?module=airflow&step=3" class="btn btn-sm btn-primary px-3 py-2 me-2">Lihat dalam 3D</a>
                                        <a href="/student/0" class="btn btn-sm btn-outline-primary px-3 py-2">Lihat dalam AR</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <ul class="mb-0">
                                                    <li>Menyedut bahan pendingin dalam bentuk wap bertekanan rendah.</li>
                                                    <li>Memampatkan bahan pendingin dari suhu dan bertekanan rendah ke suhu dan bertekanan tinggi.</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 4 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-1s mt-4" data-step="4">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">4</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 4 – Pemeluwap</h5>
                                    <div class="ms-auto">
                                        <a href="/student/3d-view?module=airflow&step=4" class="btn btn-sm btn-primary px-3 py-2 me-2">Lihat dalam 3D</a>
                                        <a href="/student/0" class="btn btn-sm btn-outline-primary px-3 py-2">Lihat dalam AR</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <ul class="mb-0">
                                                    <li>Memerangkap dan menyingkirkan haba yang dibawa oleh bahan pendingin.</li>
                                                    <li>Menyejukkan wap bertekanan tinggi menggunakan aliran udara.</li>
                                                    <li>Menukar bentuk bahan pendingin daripada bentuk wap menjadi cecair bertekanan tinggi.</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 5 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-1s mt-4" data-step="5">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">5</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 5 – Penapis Pengering</h5>
                                    <div class="ms-auto">
                                        <a href="/student/3d-view?module=airflow&step=5" class="btn btn-sm btn-primary px-3 py-2 me-2">Lihat dalam 3D</a>
                                        <a href="/student/0" class="btn btn-sm btn-outline-primary px-3 py-2">Lihat dalam AR</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <ul class="mb-0">
                                                    <li>Menapis kotoran dan menyerap kelembapan daripada bahan pendingin sebelum bahan pendingin kembali ke TXV.</li>
                                                    <li>Bahan pendingin dalam bentuk cecair bersuhu dan bertekanan tinggi.</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Step 6 -->
                            <div class="practical-step shadow-sm animate__animated animate__fadeInUp animate__delay-1s mt-4" data-step="6">
                                <div class="d-flex align-items-center p-3 step-header" style="background: linear-gradient(135deg, #1a1a1a, #222222); border-radius: 10px; cursor: pointer;">
                                    <div class="step-number d-flex align-items-center justify-content-center" style="background: linear-gradient(135deg, #d4af37, #e6c158); color: #121212; width: 35px; height: 35px; border-radius: 50%; font-weight: bold;">6</div>
                                    <h5 class="mb-0 ms-3 fw-bold">Langkah 6 – Kembali ke TXV</h5>
                                    <div class="ms-auto">
                                        <a href="/student/3d-view?module=airflow&step=6" class="btn btn-sm btn-primary px-3 py-2 me-2">Lihat dalam 3D</a>
                                        <a href="/student/0" class="btn btn-sm btn-outline-primary px-3 py-2">Lihat dalam AR</a>
                                    </div>
                                </div>
                                <div class="step-content p-3" style="border-left: 3px solid #d4af37; background-color: #1e1e1e;">
                                    <div class="card-neumorphic p-3 mb-0" style="background-color: #222222; color: #ffffff;">
                                        <div class="d-flex">
                                            <div class="me-3 text-primary">
                                                <i class="bi bi-info-circle-fill fs-4"></i>
                                            </div>
                                            <div>
                                                <ul class="mb-0">
                                                    <li>Bahan pendingin dalam bentuk gas bersuhu dan bertekanan tinggi kembali ke TXV.</li>
                                                    <li>Kitaran ini akan berulang selagi sistem penyaman udara beroperasi.</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/theme-toggle.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Toggle step content
            document.querySelectorAll('.step-header').forEach(header => {
                header.addEventListener('click', function() {
                    const content = this.nextElementSibling;
                    const isVisible = content.style.display !== 'none';
                    
                    if (isVisible) {
                        content.style.display = 'none';
                    } else {
                        content.style.display = 'block';
                    }
                });
            });
            
            // Expand all steps
            document.getElementById('expandAllSteps').addEventListener('click', function() {
                document.querySelectorAll('.step-content').forEach(content => {
                    content.style.display = 'block';
                });
            });
            
            // Collapse all steps
            document.getElementById('collapseAllSteps').addEventListener('click', function() {
                document.querySelectorAll('.step-content').forEach(content => {
                    content.style.display = 'none';
                });
            });
        });
    </script>
</body>
</html>